<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>panier facelet</title>

</h:head>
<h:body>
<ui:insert>
	<ui:include src="templates/menuBar.xhtml"></ui:include>
</ui:insert>

	<h1>Panier</h1>

	<p:dataTable var="lc" value="#{listeLcSession}">
		<p:column headerText="Photo">
			<h:graphicImage value="#{lc.produit.image}" style="width:100px;height:100px" />
		</p:column>
		
		<p:column headerText="Designation">
			<h:outputText value="#{lc.produit.designation}" />
		</p:column>

		<p:column headerText="Quantité">
			<h:outputText value="#{lc.quantite}" />
		</p:column>

		<p:column headerText="Prix (Sous-total)">
			<h:outputText value="#{lc.produit.prix} (#{lc.prix}) €" />
		</p:column>
		
		<p:column headerText="Catégorie">
			<h:outputText value="#{lc.produit.categorie.nom}" />
		</p:column>
		
		<p:column headerText="Action">
			<h:form>
				<h:commandButton value="Retirer du panier" action="#{panMB.supprArticle}">
		           <f:setPropertyActionListener value="#{lc.produit}" target="#{panMB.article.produit}" />
		        </h:commandButton>
			</h:form>
		</p:column>
		
	</p:dataTable>
	
	<h3><h:outputText value="Prix total : #{panMB.prixTotal} €" /></h3>
	
	<h:form>
		<p:commandButton value="Continuer les achats" action="accueil.xhtml"/>
		<p:commandButton value="Commander" action="inscription.xhtml"/>
	</h:form>




</h:body>
</html>